# Interview session configuration
#
# This file centralizes all interview-specific configuration parameters.
# Changes to this file do not require code changes.

# ============================================================================
# Interview Session Configuration
# ============================================================================
session:
  max_turns: 20  # Maximum turns before forcing close
  target_coverage: 0.80  # Target coverage ratio (0.0-1.0)
  min_turns: 5  # Minimum turns before early termination

# ============================================================================
# Phase Determination Thresholds
# ============================================================================
# Phases control which strategies are applicable and their scoring weights
phases:
  # Exploratory phase: Early interview, focus on breadth
  exploratory:
    min_turns: 0  # Starting turn for this phase
    max_turns: 8  # Last turn for this phase (exclusive)
    max_coverage: 0.60  # Coverage below which we stay in exploratory

  # Focused phase: Mid-interview, balance depth and coverage
  focused:
    min_turns: 8  # Starting turn for this phase
    coverage_threshold: 0.60  # Coverage threshold to enter focused phase
    max_coverage: 0.95  # Coverage below which we stay in focused

  # Closing phase: Late interview, prepare to wrap up
  closing:
    min_turns: 20  # Minimum turns before entering closing phase
    coverage_threshold: 0.95  # Coverage threshold to trigger closing
    max_turns: null  # No max turn limit (uses session.max_turns instead)

# ============================================================================
# Strategy Applicability by Phase
# ============================================================================
# Defines which strategies are available in each phase
strategy_phases:
  exploratory:
    - deepen  # Deepen understanding of current topics
    - broaden  # Explore new areas
    - reflection  # Meta-questions about the process

  focused:
    - deepen  # Deepen understanding of current topics
    - broaden  # Explore new areas
    - cover_element  # Cover specific stimulus elements

  closing:
    - closing  # Begin to wrap up the interview
    - reflection  # Final reflection questions

# ============================================================================
# Strategy Service Configuration
# ============================================================================
strategy_service:
  # Number of alternative strategies to track
  alternatives_count: 3
  # Minimum score for alternatives to be included
  alternatives_min_score: 0.3

# ============================================================================
# Session Service Configuration
# ============================================================================
session_service:
  # Number of recent utterances to include in context
  context_utterance_limit: 10
  # Number of recent nodes to include in context
  context_node_limit: 5
  # Number of recent utterances to include in extraction context
  extraction_context_limit: 5

# ============================================================================
# Graph Service Configuration
# ============================================================================
graph_service:
  # Default lookback window for recent nodes
  recent_nodes_limit: 5
  # Minimum confidence threshold for concept extraction
  min_confidence_threshold: 0.5

# ============================================================================
# Coverage Calculation Configuration
# ============================================================================
coverage:
  # Elements to include in coverage calculation
  include_elements:
    - stimulus_elements  # Elements from the original stimulus
    - extracted_concepts  # Concepts extracted from responses
  # Minimum elements required before coverage is meaningful
  min_elements_threshold: 3
