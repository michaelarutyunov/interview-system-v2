# Repertory Grid Methodology Configuration
#
# Personal construct psychology framework for understanding
# how people categorize and evaluate differences between concepts

method:
  name: repertory_grid
  version: "2.0"
  goal: "Understand personal constructs and how people differentiate between similar concepts"
  opening_bias: "Ask for specific examples of when they encountered this topic in daily life."
  description: "Personal construct psychology framework for understanding how people categorize and evaluate differences"

ontology:
  nodes:
    - name: element
      description: "Specific item, brand, product, or variant being compared"
      examples:
        - "oat milk"
        - "dairy milk"
        - "almond milk"

    - name: construct_pole
      description: "One end of a bipolar construct used to evaluate elements"
      examples:
        - "creamy"
        - "sustainable"
        - "neutral taste"

    - name: opposite_pole
      description: "The contrasting end of a bipolar construct"
      examples:
        - "watery"
        - "environmentally harmful"
        - "strong flavor"

    - name: construct
      description: "Bipolar dimension used for evaluation (combines both poles)"
      examples:
        - "creamy vs watery"
        - "sustainable vs harmful"
        - "neutral vs strong flavor"

    - name: rating
      description: "Numerical score assigned to an element on a construct"
      examples:
        - "oat milk is 8/10 on creamy"
        - "dairy milk is 3/10 on sustainable"

    - name: similarity
      description: "Shared characteristics between elements"
      examples:
        - "both oat and almond are plant-based"
        - "dairy and oat both froth well"

    - name: difference
      description: "Distinguishing characteristics between elements"
      examples:
        - "oat is creamier than almond"
        - "dairy has more protein than oat"

    - name: ideal_element
      description: "Hypothetical perfect product combining desired qualities"
      examples:
        - "something as creamy as dairy but sustainable like oat"
        - "neutral taste but with nutritional value"

    - name: laddered_construct
      description: "Higher-level abstraction or value underlying a surface construct"
      examples:
        - "creamy → feels indulgent → self-care"
        - "sustainable → responsible → good person"

  edges:
    - name: evaluated_by
      description: "Element is assessed using a construct"
      permitted_connections:
        - [element, construct]
        - [element, construct_pole]

    - name: opposite_of
      description: "The two poles of a construct"
      permitted_connections:
        - [construct_pole, construct_pole]
        - [construct_pole, opposite_pole]

    - name: rated_on
      description: "Rating applies a construct to an element"
      permitted_connections:
        - [element, rating]

    - name: similar_on
      description: "Elements share a characteristic"
      permitted_connections:
        - [element, construct]
        - [element, construct_pole]

    - name: differs_on
      description: "Elements are distinguished by a construct"
      permitted_connections:
        - [element, construct]
        - [element, construct_pole]

    - name: implies
      description: "Construct implies or leads to another construct (laddering)"
      permitted_connections:
        - [construct, construct]
        - [construct_pole, construct_pole]
        - [construct, laddered_construct]

    - name: closer_to_ideal
      description: "Element better matches ideal specification"
      permitted_connections:
        - [element, ideal_element]

    - name: defines
      description: "Construct helps define what is ideal"
      permitted_connections:
        - [construct, ideal_element]
        - [construct_pole, ideal_element]

extraction_guidelines:
  - "Use triadic elicitation: 'In what way are two of these similar but different from the third?'"
  - "Always capture both poles of each construct (bipolar nature is essential)"
  - "Extract ratings or preferences when explicitly stated"
  - "Look for laddering: 'Why does X matter?' → reveals higher-level constructs"
  - "Identify the 'ideal' product description"
  - "Notice which elements are grouped as similar"
  - "Pay attention to the language used - personal constructs reveal the person's meaning system"
  - "Constructs can be functional (creamy), emotional (comforting), or value-based (responsible)"

relationship_examples:
  triadic_elicitation:
    description: "Comparing three items to elicit constructs"
    example: "Interviewer: 'How are oat and almond similar but different from dairy?' Response: 'Oat and almond are plant-based, but dairy comes from animals'"
    extraction: |
      element('oat milk') → similar_on → construct_pole('plant-based')
      element('almond milk') → similar_on → construct_pole('plant-based')
      element('dairy milk') → differs_on → construct_pole('plant-based')
      construct_pole('plant-based') → opposite_of → construct_pole('animal-based')

  bipolar_construct:
    description: "Both poles of a construct"
    example: "I like things that are creamy, not watery"
    extraction: "construct_pole('creamy') → opposite_of → construct_pole('watery')"

  laddering:
    description: "Higher-level construct revealed"
    example: "Creaminess matters because it feels indulgent, and that's how I practice self-care"
    extraction: |
      construct_pole('creamy') → implies → construct_pole('indulgent')
      construct_pole('indulgent') → implies → construct_pole('self-care')

  ideal_specification:
    description: "Description of perfect product"
    example: "Ideally, something that froths like dairy but has the sustainability of oat"
    extraction: |
      ideal_element('perfect milk') ← closer_to_ideal ← element('oat milk')
      construct_pole('froths well') → defines → ideal_element('perfect milk')
      construct_pole('sustainable') → defines → ideal_element('perfect milk')

extractability_criteria:
  extractable_contains:
    - "Comparisons between products ('better than...', 'not as... as...')"
    - "Bipolar descriptions ('creamy vs watery', 'strong vs mild')"
    - "Similarity statements ('both are...', 'they share...')"
    - "Difference statements ('unlike...', 'different from...')"
    - "Preferences and rankings"
    - "Ideal or hypothetical descriptions"
    - "'Why' explanations revealing deeper values"
  non_extractable_contains:
    - "Descriptions of a single item without comparison"
    - "Factual specifications without personal meaning"
    - "Simple agreement or acknowledgment"
    - "Questions back to the interviewer"

signals:
  graph:
    - graph.node_count
    - graph.edge_count
    - graph.orphan_count

  llm:
    - llm.response_depth
    - llm.sentiment
    - llm.uncertainty

  temporal:
    - temporal.strategy_repetition_count
    - temporal.turns_since_strategy_change

  meta:
    - meta.interview_progress
    - meta.interview.phase

signal_norms:
  graph.node_count: 40
  graph.edge_count: 80
  graph.orphan_count: 20
  graph.max_depth: 6
  temporal.strategy_repetition_count: 5
  temporal.turns_since_strategy_change: 5

strategies:
  - name: triadic_elicitation
    description: "Compare elements to elicit constructs using similarity/difference"
    signal_weights:
      graph.node_count: 0.8
      llm.uncertainty: 0.6

  - name: explore_constructs
    description: "Explore the meaning and importance of identified constructs"
    signal_weights:
      graph.edge_count: 0.7
      llm.response_depth.moderate: 0.8

  - name: ladder_constructs
    description: "Use 'why does that matter' to reveal higher-level constructs"
    signal_weights:
      graph.max_depth: 0.9
      llm.response_depth.deep: 0.9

  - name: explore_ideal
    description: "Understand the ideal product specification and what defines it"
    signal_weights:
      graph.node_count: 0.5
      meta.interview_progress: 0.7

  - name: explore_similarities
    description: "Identify shared characteristics between elements"
    signal_weights:
      graph.orphan_count: 0.6
      llm.uncertainty: 0.4

phases:
  early:
    description: "Elicit constructs through triadic comparison"
    phase_boundaries:
      early_max_nodes: 4
      mid_max_nodes: 10
    signal_weights:
      triadic_elicitation: 1.5
      explore_constructs: 1.0
      explore_similarities: 0.8
    phase_bonuses:
      triadic_elicitation: 0.3

  mid:
    description: "Deepen understanding of constructs and laddering"
    phase_boundaries:
      early_max_nodes: 4
      mid_max_nodes: 10
    signal_weights:
      explore_constructs: 1.3
      ladder_constructs: 1.4
      triadic_elicitation: 0.5
    phase_bonuses:
      ladder_constructs: 0.3
      explore_constructs: 0.2

  late:
    description: "Identify ideals and validate understanding"
    phase_boundaries:
      early_max_nodes: 4
      mid_max_nodes: 10
    signal_weights:
      explore_ideal: 1.4
      ladder_constructs: 1.0
      explore_constructs: 0.6
    phase_bonuses:
      explore_ideal: 0.3
      ladder_constructs: 0.2
